<div class="content">
  <div class="mt-5">
    <h2>List of Orders</h2>

    <!-- Search Bar -->
    <div *ngIf="!isUserId" class="d-flex justify-content-between mb-3">
      <input
        type="text"
        class="form-control w-50"
        placeholder="Search orders by email"
        [(ngModel)]="searchTerm"
        (input)="onSearchTermChange()"
      />
    </div>

    <!-- Orders Table -->
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th (click)="toggleSortDirection('email')">Email</th>
          <th (click)="toggleSortDirection('totalAmount')">Total Amount</th>
          <th>Status</th>
          <th>Payment Method</th>
          <th (click)="toggleSortDirection('discount')">Discount</th>
          <th (click)="toggleSortDirection('createdAt')">Created At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let order of paginatedOrders">
          <td>{{ order.email }}</td>
          <td>{{ order.totalAmount | currency }}</td>
          <td>{{ order.status }}</td>
          <td>{{ order.paymentMethod }}</td>
          <td>{{ order.discount | currency }}</td>
          <td>{{ order.createdAt | date: 'yyyy-MM-dd HH:mm' }}</td>
          <td>
            <button class="btn btn-info" (click)="viewOrderDetails(order.id)">View Details</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination Controls -->
    <div *ngIf="" class="pagination-controls">
      <button (click)="previousPage()" [disabled]="currentPage === 1" class="btn btn-secondary">Previous</button>
      <span>Page {{ currentPage }} of {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="currentPage === totalPages" class="btn btn-secondary">Next</button>
    </div>
  </div>
</div>
